<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://s0.2mdn.net/ads/studio/Enabler.js"></script>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      perspective: 800px; 
    }

    #ad-container {
      position: absolute;
      width: 300px;
      height: 250px;
      background-color: #f0f0f0;
      overflow: hidden;
      transition: transform 0.1s ease-in-out;
      transform-style: preserve-3d;
    }

    #ad-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transform: translateZ(1px); /* Create a 3D space */
    }
  </style>
</head>
<body>
  <div id="ad-container">
    <img id="ad-image" src="/sample/expandable-ads/sample-creative/img/1.png" alt="Ad Image">
  </div>

  <script>
    if (Enabler.isInitialized()) {
      init();
    } else {
      Enabler.addEventListener(studio.events.StudioEvent.INIT, init);
    }

    function init() {
      Enabler.setProfileId(10528308);
    //   Enabler.setAdInstanceId(1);
    //   Enabler.finishInit();

      // Start the animation when the device orientation changes
      window.addEventListener('deviceorientation', handleOrientation, false);
    }

    function handleOrientation(event) {
      // Use gyroscope data
      var adContainer = document.getElementById('ad-container');

      // Extract rotation data from the gyroscope
    //   var rotateX = event.beta || 0; 
    //   var rotateY = event.gamma || 0; 
      var rotateZ = event.alpha || 0; 
      adContainer.style.transform = 'rotateZ(' + rotateZ + 'deg)';
    }
  </script>
</body>
</html>
